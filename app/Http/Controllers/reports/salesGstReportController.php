<?php
 namespace App\Http\Controllers\reports; use App\Http\Controllers\Controller; use App\Models\sales; use Illuminate\Http\Request; class salesGstReportController extends Controller { public function index() { return view("\162\145\x70\x6f\x72\x74\163\56\163\141\154\x65\163\x47\x73\x74\x2e\151\156\144\x65\170"); } public function data($from, $to) { $sales = sales::with("\143\x75\x73\164\157\x6d\x65\162", "\x64\x65\164\x61\x69\154\x73")->whereBetween("\144\141\164\x65", array($from, $to))->get(); foreach ($sales as $sale) { $totalRP = 0; foreach ($sale->details as $product) { $totalRP += ($product->qty + $product->bonus) * $product->tp; } $sale->totalBill = $totalRP; } return view("\x72\x65\160\157\162\x74\x73\x2e\x73\x61\154\145\163\x47\x73\x74\56\x64\x65\164\141\x69\x6c\163", compact("\146\162\157\x6d", "\164\x6f", "\163\x61\x6c\145\163")); } }
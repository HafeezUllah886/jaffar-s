<?php
 namespace App\Http\Controllers\reports; use App\Http\Controllers\Controller; use App\Models\accounts; use App\Models\sales; use Illuminate\Http\Request; class salesReportController extends Controller { public function index() { return view("\162\145\160\157\x72\164\x73\56\x73\x61\x6c\x65\163\56\151\x6e\144\145\x78"); } public function data($from, $to, $type) { if ($type == "\x41\x6c\x6c") { $sales = sales::with("\x63\165\x73\164\x6f\x6d\145\162", "\144\x65\x74\141\151\x6c\x73")->whereBetween("\x64\x61\164\x65", array($from, $to))->get(); } else { $customers = accounts::where("\x74\x79\160\145", "\x43\165\163\x74\x6f\x6d\145\x72")->where("\x63\137\x74\x79\x70\145", $type)->pluck("\151\x64")->toArray(); $sales = sales::with("\x63\x75\x73\164\x6f\155\x65\x72", "\x64\145\x74\x61\x69\x6c\x73")->whereIn("\x63\x75\x73\164\157\x6d\145\162\111\104", $customers)->whereBetween("\144\141\164\x65", array($from, $to))->get(); } return view("\x72\145\160\x6f\162\x74\x73\x2e\163\141\154\145\163\56\144\x65\164\141\151\x6c\x73", compact("\x66\162\x6f\155", "\164\x6f", "\x73\x61\154\145\x73")); } }


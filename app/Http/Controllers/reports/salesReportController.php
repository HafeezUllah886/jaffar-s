<?php
 namespace App\Http\Controllers\reports; use App\Http\Controllers\Controller; use App\Models\accounts; use App\Models\sales; use Illuminate\Http\Request; class salesReportController extends Controller { public function index() { return view("\162\x65\x70\157\162\164\163\x2e\163\141\154\145\x73\56\x69\x6e\144\x65\170"); } public function data($from, $to, $type) { if ($type == "\x41\x6c\x6c") { $sales = sales::with("\x63\165\163\164\x6f\x6d\145\162", "\x64\145\164\141\151\154\x73")->whereBetween("\144\141\x74\x65", array($from, $to))->get(); } else { $customers = accounts::Customer()->pluck("\x69\144")->toArray(); $sales = sales::with("\143\165\163\x74\x6f\x6d\x65\162", "\144\145\164\x61\151\x6c\x73")->whereIn("\x63\165\x73\164\157\x6d\x65\162\111\x44", $customers)->whereBetween("\x64\x61\x74\145", array($from, $to))->get(); } return view("\162\x65\x70\157\162\164\163\56\163\x61\154\x65\163\56\x64\x65\164\x61\x69\x6c\x73", compact("\146\162\157\x6d", "\x74\157", "\x73\141\x6c\x65\x73")); } }
